<!-- DNS prefetches -->
    <link rel="dns-prefetch" href="https://cdn.shopify.com">
    <link rel="dns-prefetch" href="https://fonts.shopify.com">
    <link rel="dns-prefetch" href="https://monorail-edge.shopifysvc.com">
    <link rel="dns-prefetch" href="https://ajax.googleapis.com">

    {% if settings.enable_shopify_review_comments %}
      <link rel="dns-prefetch" href="https://productreviews.shopifycdn.com">
    {% endif %}

    <!-- Preconnects -->
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    <link rel="preconnect" href="https://fonts.shopify.com" crossorigin>
    <link rel="preconnect" href="https://monorail-edge.shopifysvc.com">
    <link rel="preconnect" href="https://ajax.googleapis.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>

    {% if settings.enable_shopify_review_comments %}
      <link rel="preconnect" href="https://productreviews.shopifycdn.com">
    {% endif %}

    <!-- Preload JS -->
      <link rel="preload" href="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" as="script">
      <link rel="preload" href="{{ 'vendors.js' | asset_url }}" as="script">
      <link rel="preload" href="{{ 'utilities.js' | asset_url }}" as="script">
      <link rel="preload" href="{{ 'app.js' | asset_url }}" as="script">
      <link rel="preload" href="{{ 'custom.js' | asset_url }}" as="script">
      {% if settings.show_multiple_currencies or shop.enabled_currencies.size > 1 %}
        <link rel="preload" href="/services/javascripts/currencies.js" as="script">
        <link rel="preload" href="{{ 'currencyConversion.js' | asset_url }}" as="script">
      {% endif %}

      {% if settings.enable_shipping_calculator and template.name == 'cart' %}
        <link rel="preload" href="{{ 'shopify_common.js' | shopify_asset_url }}" as="script">
        <link rel="preload" href="{{ 'api.jquery.js' | shopify_asset_url }}" as="script">
        <link rel="preload" href="{{ 'countries.js' | shopify_asset_url }}" as="script">
      {% endif %}

      {%- if template.directory == 'customers' -%}
      <link rel="preload" href="{{ 'shopify_common.js' | shopify_asset_url }}" as="script">
      <link rel="preload" href="{{ 'customer_area.js' | shopify_asset_url }}" as="script">
      {%- endif -%}

      {% if settings.disqus_enabled %}
        {% if template.name == "blog" or template.name == "article" or template.name == "index" %}
          <link rel="preload" href="//{{ settings.disqus_shortname }}.disqus.com/count.js" as="script">
        {% endif %}
      {% endif %}

      {% comment %}Inject theme-object begin{% endcomment %}
        <script>
          window.PXUTheme = window.PXUTheme || {};
          window.PXUTheme.version = '3.0.1';
          window.PXUTheme.name = 'Flex';
        </script>
      {% comment %}Inject theme-object end{% endcomment %}
      
      <script>
        {% render 'js-variables' %}
      </script>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" defer></script>
      <script src="{{ 'vendors.js' | asset_url }}" defer></script>
      <script src="{{ 'utilities.js' | asset_url }}" defer></script>
      <script src="{{ 'app.js' | asset_url }}" defer></script>

      {%- if settings.show_multiple_currencies or shop.enabled_currencies.size > 1 -%}
        <script type="text/javascript" src="/services/javascripts/currencies.js"></script>
        <script src="{{ 'currencyConversion.js' | asset_url }}" defer></script>
      {%- endif -%}

      {%- if settings.enable_shipping_calculator and template.name == "cart" -%}
        <script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer></script>
        <script src="{{ 'api.jquery.js' | shopify_asset_url }}" defer></script>
        <script src="{{ 'countries.js' | shopify_asset_url }}" defer></script>
      {%- endif -%}

      {%- if template.directory == 'customers' -%}
        <script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer></script>
        <script src="{{ 'customer_area.js' | shopify_asset_url }}" defer></script>
      {%- endif -%}

      {% if settings.disqus_enabled %}
        {% if template.name == "blog" or template.name == "article" or template.name == "index" %}
          <script id="dsq-count-scr" src="//{{ settings.disqus_shortname }}.disqus.com/count.js" async></script>
        {% endif %}
      {% endif %}

      <noscript>
        <style>
          /* Insert styles for styles when JS is not loaded */
          .noscript { display: block; }
        </style>
      </noscript>

      <script>
        document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/,'js');
        if(window.Shopify&&window.Shopify.designMode)document.documentElement.className+=' in-theme-editor';
        if(('ontouchstart' in window)||window.DocumentTouch&&document instanceof DocumentTouch)document.documentElement.className=document.documentElement.className.replace(/\bno-touch\b/,'has-touch');
      </script>

      {% if template.name == 'customers' %}
        {{ "shopify_common.js" | shopify_asset_url | script_tag }}
        {{ "customer_area.js"  | shopify_asset_url | script_tag }}
      {% endif %}
      
      {% render 'variable-products-head-template' %}